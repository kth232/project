<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="css/core.css">
<link rel="stylesheet" href="css/main.css">
<title>MySNS</title>
<style>
.desc {
	float: left;
	width: 100%;
	color: #888;
	font-size: 0.9em;
	}
</style>
</head>
<body>
	<div class="page-hdr">MySNS</div>
	<div class="page-body">
		<div class="section pad-24 mtop-30">
			<input id="id" type="text" placeholder="아이디 (이메일주소)" required>
			<input id="ps" type="password" class="mtop-10" placeholder="패스워드" required>
			<input type="submit" class="mtop-20" value="탈퇴하기" onclick="withdraw()"> 
		</div>
	</div>
	<div class="page-footer">Copyright: mysns.com, 202x</div>
</body>
</body>
</html>
<script src="js/jquery-3.6.1.min.js"></script>
<script src="js/core.js"></script>
<script>
function withdraw() {
	var id = $("#id").val().trim();
	if (id == "") {
		alert("아이디를 입력해 주세요.");
		$("#id").focus();
		return;
	}
	var ps = $("#ps").val().trim();
		if (ps == "") {
		alert("패스워드를 입력해 주세요.");
		$("#ps").focus();
		return;
	}
	var url ="jsp/withdraw.jsp?id=" + id + "&ps=" + ps;
	AJAX.call(url, null, function(data) {
		var code = data.trim();
		if(code == "NF") {
			alert("회원 정보를 찾을 수 없습니다.");
		}
		else if(code == "ER") {
			alert("회원 가입 중 오류가 발생하었습니다.");
		}
		else {
			alert("회원 탈퇴가 완료되었습니다.");
			window.location.href = "signup.html";
		}
	});
}
</script>